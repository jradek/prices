<!DOCTYPE html>
<html>
  <head>
    <base target="_top" />
    <!--Import Google Icon Font-->
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <!-- Compiled and minified CSS -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css"
    />

    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.1/css/all.css"
      rel="stylesheet"
    />

    <style>
      /* make table rows narrow
      td,
      th {
        padding: 0px 15px !important;
      }*/
      td > p {
        margin-block-start: 2px;
        margin-block-end: 2px;
      }

      .my-store-background {
        border-radius: 4px;
        padding: 5px 5px;
      }
      .my-price-background {
        border-radius: 4px;
        padding: 5px 5px;
      }
    </style>
  </head>
  <body>
    <div class="navbar-fixed">
      <nav>
        <div class="nav-wrapper light-blue">
          <span class="brand-logo center">Prices</span>
          <ul id="nav-mobile" class="right">
            <li>
              <a id="my-up-chevron" href="#dummy"
                ><i class="fa fa-chevron-up" style="width: 1cm"></i
              ></a>
            </li>
            <li>
              <a id="my-down-chevron" href="#dummy"
                ><i class="fa fa-chevron-down" style="width: 1cm"></i
              ></a>
            </li>
          </ul>
        </div>
      </nav>
    </div>

    <div id="my-top-div"></div>
    <div class="container">
      <!-- START Page Content -->

      <p class="center" style="font-size: small" id="exportDate"></p>

      <!-- <ul class="collapsible">
        <li>
          <div class="collapsible-header">
            <i class="material-icons">filter_drama</i>First
          </div>
          <div class="collapsible-body">
            <div class="row">
              <div class="col s12">
                <ul class="tabs">
                  <li class="tab col s6">
                    <a class="active" href="#test1">Per serving</a>
                  </li>
                  <li class="tab col s6"><a href="#test2">Per package</a></li>
                </ul>
              </div>
              <div id="test1" class="col s12">Test 1</div>
              <div id="test2" class="col s12">Test 2</div>
            </div>
          </div>
        </li>
        <li>
          <div class="collapsible-header">
            <i class="material-icons">place</i>Second
          </div>
          <div class="collapsible-body">
            <span>Lorem ipsum dolor sit amet.</span>
          </div>
        </li>
      </ul> -->

      <ul id="root" class="collapsible"></ul>
      <!-- END Page Content -->
    </div>
    <div id="my-bottom-div"></div>

    <!-- <?!= include("prices_data_js"); ?> -->
    <script src="prices_data.js"></script>
    <!-- <?!= include("shared_data_js"); ?> -->
    <script src="shared_data.js"></script>
    <!-- <?!= include("prices_js"); ?> -->
    <script src="prices.js"></script>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        elem = document.getElementById("exportDate");
        elem.innerHTML = `generated at ${g_pricesExportDate}`;

        generatePrices();

        var elems = document.querySelectorAll(".collapsible");
        const options = {};
        var instances = M.Collapsible.init(elems, options);

        elems = document.querySelectorAll(".tabs");
        instances = M.Tabs.init(elems, options);

        // navigation
        // The google web app prevents us from using the standard anchor/href approach
        const topDiv = document.getElementById("my-top-div");
        const bottomDiv = document.getElementById("my-bottom-div");
        document
          .getElementById("my-up-chevron")
          .addEventListener("click", (e) => {
            e.preventDefault();
            topDiv.scrollIntoView();
          });
        document
          .getElementById("my-down-chevron")
          .addEventListener("click", (e) => {
            e.preventDefault();
            bottomDiv.scrollIntoView();
          });
      });
    </script>
  </body>
</html>
